#!/usr/bin/env ruby
# Programmer: Chris Bunch


$:.unshift File.join(File.dirname(__FILE__), "..", "lib")
require 'appscale_tools'


if __FILE__ == $0
  options = ParseArgs.get_vals_from_args(ARGV, 
    AppScaleTools::RESET_PASSWORD_FLAGS, AppScaleTools::RESET_PASSWORD_USAGE)
  begin
    AppScaleTools.reset_password(options)
  rescue Exception => e
    # collect all of the logs that could be useful in debugging
    # why the above Exception was thrown
    CommonFunctions.collect_and_send_logs(options, e)
  end
end
